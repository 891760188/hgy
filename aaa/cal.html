<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			input[type="button"]{
				background-color: #F0AD4E;
				border-radius: 3px;
				color: #fff;
			}
		</style>
	</head>
	<body style="background-color: #000;">
		<div class="" style="width: 300px;color: #285E8E;margin: 50px auto;background-color: #C4E3F3;padding: 20px;border: 6px solid #fff;border-radius: 8px;">
			<div style="text-align: center;">
				<div id="" style="color: #285E8E;text-align: center;padding: 20px 0px;font-size: 22px;font-weight: bold;">
					连医生专用方差计算软件
				</div>
				<input type="button" style="width: 50%;" onclick="add()" value="添加一个输入框"><br/>
				<input type="button" style="width: 50%;" onclick="flash()" value="重   置"><br/>
				<input type="button" style="width: 50%;" onclick="result(this)" value="======="><br/>
			</div>
			<ul id="addInput" style="list-style: none;color: #285E8E;text-align: center;">
				<li><input class="calcalcal" type="" name="" id="" value="" placeholder="请输入" /></li>
			</ul>
		</div>
		<script type="text/javascript">
			function flash(){
				location.reload();
			}
			function add(){
				var addInput =document.getElementById('addInput');
				var li = document.createElement('li');
				li.innerHTML='<input type="" class="calcalcal" name="" id="" value="" placeholder="请输入" />';
				addInput.appendChild(li);
			}
			function result(obj){
				var doms = document.getElementsByClassName('calcalcal');
				var arrayValue = [];
				var he = 0;
				for (i = 0 ; i < doms.length ; i++) {
					var dom = doms[i];
					var value = dom.value ;
					if(value == null || value == '' || value == undefined ){
						alert('连医生，请检查输入框中是否都有值');
						return;
					}
					if(isNaN(value)){
						alert('连医生，请检查输入框中的值是否都为数字');
						return;	
					}
					he += Number(value);
					arrayValue.push(Number(value));
				}
				var n = arrayValue.length ;
				var avg = he / n ;
				var shang = 0;
				for (j = 0 ; j < n ; j++) {
					shang += (Number(arrayValue[j]) - avg)*(Number(arrayValue[j]) - avg);
				}
				var fangcha = shang / n ;
				fangcha = Math.sqrt(fangcha);
				obj.value = fangcha;
			}
		</script>
	</body>
</html>
