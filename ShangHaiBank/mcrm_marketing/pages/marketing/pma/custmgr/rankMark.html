<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>考核成绩</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<script type="text/javascript" src="../../../common/AppBooter.js"></script>
		<style type="text/css">
			html,
			body {
				height: 100%;
				overflow: hidden;
			}
			.fonts{
				position: absolute;
				right: 10px;
				color: #1997D8;
				font-size: 20px;
			}
			.tds{
				color:#1997D8;
				text-decoration: underline;
			}
			.tdd{
				width: 30%;
			}
		</style>
	</head>
	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title" id="rank_id">考核成绩</h1>
		</header>
		<div class="mui-content">
			<div id="mcc-opportRank" class="mui-control-content mui-active dark-bg">
				<div id="slider" class="mui-slider">
					<div class="mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
						<a class="mui-control-item mui-active" href="#tab1">一季度</a>
						<a class="mui-control-item" href="#tab2" id="tab2Id">二季度</a>
						<a class="mui-control-item" href="#tab3" id="tab3Id">三季度</a>
					</div>
					<div class="mui-slider-progress-bar mui-col-xs-4"></div>
					<div class="mui-slider-group">
						<div id="tab1" class="mui-slider-item mui-control-content mui-active">
							<div class="ys-custTitle">KPI考核得分<font class="fonts">89</font></div>
							<table border="1" width="100%" height="400px" class="dark-input">
								<tr><th>序号</th><th>指标名称</th><th>任务值</th><th>完成值</th><th>权重</th><th>计算得分</th></tr>
								<tr><td>1</td><td class="tds tdd" name="1-对公存款">对公存款日均新增</td><td>10,000.00</td><td>12,000.00</td><td>10%</td><td>32</td></tr>
								<tr><td>2</td><td class="tds tdd" name="1-常规类存款">人民币公司常规类存款日均新增</td><td>890.00</td><td>900.00</td><td>25%</td><td>41</td></tr>
								<tr><td>3</td><td class="tds tdd" name="1-对公营业收入">扣减字长值准备后的对公营业收入</td><td>5,000.00</td><td>2,450.00</td><td>40%</td><td>18</td></tr>
								<tr><td>4</td><td class="tds tdd" name="1-对公优质无贷户">净增对公优质无贷户</td><td>4</td><td>5</td><td>15%</td><td>5</td></tr>
								<tr><td>5</td><td class="tds tdd" name="1-内控合规管理">内控合规管理</td><td>--</td><td>--</td><td>--</td><td>5</td></tr>
							</table>
						</div>
						<div id="tab2" class="mui-slider-item mui-control-content">
							<div class="mui-loading" style="margin:50%;">
								<div class="mui-spinner">
								</div>
							</div>
						</div>
						<div id="tab3" class="mui-slider-item mui-control-content">
							<div class="mui-loading" style="margin:50%;">
								<div class="mui-spinner">
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--个人排名 end-->
		</div>
		<script type="text/javascript">
			 //App配置信息
			var appConfig = {
				//是否启用右滑关闭功能
				swipeBack: false
			};
			/**
			 * 页面初始化
			 */
			_App.init(appConfig);
			(function($) {
				//自适应高度
				var _header = document.querySelector('header.mui-bar');
				var _slider = document.querySelector('div.mui-slider-indicator');
				//var _footer = document.querySelector('nav.mui-bar');
				var _h = (document.body.offsetHeight - _header.offsetHeight - _slider.offsetHeight) + 'px';
				document.getElementById("tab1").style.height = _h;
				document.getElementById("tab2").style.height = _h;
				document.getElementById("tab3").style.height = _h;
				//scroll
				$('.mui-scroll-wrapper').scroll();
				
			})(mui);
			var controls;
			var tab1=document.getElementById('tab1');
			var tab2=document.getElementById('tab2');
			var tab3=document.getElementById('tab3');
			document.querySelector('.mui-slider').addEventListener('slide', function(e) {
				if (e.detail.slideNumber === 1) {
					setTimeout(function() {
						controls = tab2;
						getDatas(controls,2);
					}, 500);
				} else if (e.detail.slideNumber === 2) {
					setTimeout(function() {
						controls = tab3;
						getDatas(controls,3);
					}, 500);
				}else if (e.detail.slideNumber === 0) {
					setTimeout(function() {
						controls = tab1;
						getDatas(controls,1);
					}, 500);
				}
			}); 
			mui('table').on('tap','td.tdd',function(){
				var name=(this.getAttribute('name')).split('-'); 
				var url='myBank.html?name='+encodeURIComponent(name[1])+'&type='+name[0];
				_App.util.goPage(url,{
					pageId:'./myBank.html',
					refresh:'true'
				});
			});
			function getDatas(obj,num){
				var divs='<div class="ys-custTitle">KPI考核得分<font class="fonts">89</font></div>'
						+'<table border="1" width="100%" height="400px" class="dark-input">'
						+'<tr><th>序号</th><th>指标名称</th><th>任务值</th><th>完成值</th><th>权重</th><th>计算得分</th></tr>'
						+'<tr><td>1</td><td class="tds tdd" name="'+num+'-对公存款">对公存款日均新增</td><td>10,000.00</td><td>12,000.00</td><td>10%</td><td>32</td></tr>'
						+'<tr><td>2</td><td class="tds tdd" name="'+num+'-常规类存款">人民币公司常规类存款日均新增</td><td>890.00</td><td>900.00</td><td>25%</td><td>41</td></tr>'
						+'<tr><td>3</td><td class="tds tdd" name="'+num+'-对公营业收入">扣减字长值准备后的对公营业收入</td><td>5,000.00</td><td>2,450.00</td><td>40%</td><td>18</td></tr>'
						+'<tr><td>4</td><td class="tds tdd" name="'+num+'-对公优质无贷户">净增对公优质无贷户</td><td>4</td><td>5</td><td>15%</td><td>5</td></tr>'
						+'<tr><td>5</td><td class="tds tdd" name="'+num+'-内控合规管理">内控合规管理</td><td>--</td><td>--</td><td>--</td><td>5</td></tr>'
						+'</table>';
				obj.innerHTML=divs;
				//事件绑定
				mui('table').on('tap','td.tdd',function(){
					var name=(this.getAttribute('name')).split('-'); 
					var url='myBank.html?name='+encodeURIComponent(name[1])+'&type='+name[0];
					_App.util.goPage(url,{
						pageId:'./myBank.html',
						refresh:'true'
					});
				});
			}
		
		</script>
	</body>

</html>