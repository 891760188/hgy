<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<script type="text/javascript" src="../../../common/AppBooter.js" ></script>
		<style>
			.chart {
				height: 270px;
				margin: 0px;
				padding: 0px;
			} 
			/*h5 {
				margin-top: 30px;
				font-weight: bold;
			}
			h5:first-child {
				margin-top: 15px;
			}*/
		</style>
	</head>
	<body>
		<header class="mui-bar mui-bar-nav">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <!--<a class="mui-icon mui-icon-right-nav mui-pull-right"></a>-->
		    <h1 class="mui-title">我的业绩</h1>
		</header>
		<div class="mui-content">
			<div class="mui-scroll-wrapper mui-nofootscroll">
				<div class="mui-scroll">
					<!--<div class="ys-custTitle">业绩分布</div>-->
					<div id="fxchartId">
						<div class="chart" id="pieChart"></div>
						<div class="chart" id="barChart"></div>
						<br/><br/>
						<div style="clear:both;"></div>
					</div>
				</div>
			</div>
		</div>
    		<script type="text/javascript" src="../../../../../resource/echarts3/echarts.min.js"></script>
		<script type="text/javascript">
			//App配置信息
			var appConfig = {
				//是否启用右滑关闭功能
				swipeBack: false
			};
			/**
			 * 页面初始化
			 */
			_App.init(appConfig);
			mui.ready(function(){
				document.getElementById("fxchartId").style.display="block";
				//调用展示图
				barChart.setOption(getOption('bar'));
				pieChart.setOption(getOption('pie'));
			});
			
			mui('.mui-scroll-wrapper').scroll();
			var goPage = function(url) {
				_App.util.goPage(url);
			};
			
			var getOption = function(chartType) {
				var chartOption = chartType == 'pie' ? {
					title : {
				        text: '业绩分布',
				        x:'center',
				      	textStyle:{color:'black',fontWeight:'lighter'}
				    },
					tooltip: {
				        trigger: 'item',
				        formatter: "{a} <br/>{b}: {c} ({d}%)"
				    },
				    color:_chartsColors,
				    legend: {
				    	orient: 'horizontal', // 'vertical'
				        x: 'center', // 'center' | 'left' | {number},
				        y: 'bottom',
				        data:['个人存款','个人贷款', '对公存款','对公贷款']
				    },
				    series: [
				        {
				            name:'访问来源',
				            type:'pie',
				            radius: ['50%', '70%'],
				            avoidLabelOverlap: false,
				            label: {
				                normal: {
				                    show: false,
				                    position: 'center'
				                },
				                emphasis: {
				                    show: true,
				                    textStyle: {
				                        fontSize: '30',
				                        fontWeight: 'bold'
				                    }
				                }
				            },
				            labelLine: {
				                normal: {
				                    show: false
				                }
				            },
				            data:[
				                {value:335, name:'个人存款'},
				                {value:310, name:'个人贷款'},
				                {value:234, name:'对公存款'},
				                {value:135, name:'对公贷款'}
				            ]
				        }
				    ]
				} : {
					title : {
				        text: '业绩趋势',
				        x:'center',
				      	textStyle:{color:'black',fontWeight:'lighter'}
				    },
				    color:_chartsColors,
					legend: {
				        orient: 'horizontal', // 'vertical'
				        x: 'center', // 'center' | 'left' | {number},
				        y: '250', // 'center' | 'bottom' | {number}
				        backgroundColor: '#ffffff',
				        borderColor: 'rgba(178,34,34,0.8)',
				        borderWidth: 1,
				        padding: 1,    // [5, 10, 15, 20]
				        itemGap: 5,
				        textStyle: {color: 'red'},
				        data: [
				            '个人业务','对公业务', '存款趋势','贷款趋势'
				        ]
				    },
					grid: {
						x: 35,
						x2: 10,
						y: 30,
						y2: 45
					},
					toolbox: {
						show: false,
						feature: {
							mark: {
								show: true
							},
							dataView: {
								show: true,
								readOnly: false
							},
							magicType: {
								show: true,
								type: ['line', 'bar']
							},
							restore: {
								show: true
							},
							saveAsImage: {
								show: true
							}
						}
					},
					calculable: false,
					xAxis: [{
						type: 'category',
						data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']
					}],
					yAxis: [{
						type: 'value',
						splitArea: {
							show: true
						}
					}],
					series: [{
						name: '个人业务',
						type: chartType,
						data: [20.0, 14.9, 7.0, 23.2, 25.6, 76.7, 75.6, 62.2, 32.6, 20.0, 16.4, 13.3]
					},{
						name: '对公业务',
						type: chartType,
						data: [20.1, 14.9, 7.0, 23.2, 25.6, 76.7, 65.6, 72.2, 32.6, 20.0, 16.4, 13.3]
					},{
						name: '存款趋势',
						type: 'line',
						data: [20.1, 14.9, 7.0, 23.2, 25.6, 76.7, 75.6, 62.2, 32.6, 20.0, 16.4, 13.3]
					},{
						name: '贷款趋势',
						type: 'line',
						data: [20.1, 16.9, 6.0, 20.2, 25.6, 75.7, 65.6, 72.2, 42.6, 15.0, 15.4, 12.3]
					}]
				};
				return chartOption;
			};
			var byId = function(id) {
				return document.getElementById(id);
			};
			var barChart = echarts.init(byId('barChart'));
			var pieChart = echarts.init(byId('pieChart'));
		</script>
	</body>
</html>